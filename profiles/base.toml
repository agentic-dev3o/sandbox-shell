# Base sandbox profile - minimal security defaults
# Always included unless explicitly excluded

network_mode = "offline"

[filesystem]
allow_read = [
    "/usr",
    "/bin",
    "/sbin",
    "/opt",
    "/etc",
    "/private/etc",
    "/Library",
    "/System",
    "/private/var/db",
    "/private/var/folders",
    "/private/var/run",
    "/var/db",
    "/var/folders",
    "/var/run",
    "/tmp",
    "/dev",
    "~/.config/sx",
    "~/Library",
    # Shell config files (read-only)
    "~/.zshrc",
    "~/.zshenv",
    "~/.zprofile",
    "~/.bashrc",
    "~/.bash_profile",
    "~/.profile",
    "~/.inputrc",
]
deny_read = [
    "~/.ssh",
    "~/.aws",
    "~/.gnupg",
    "~/.config/gh",
    "~/.netrc",
    "~/.docker/config.json",
    "~/Documents",
    "~/Desktop",
    "~/Downloads",
]
allow_write = [
    "/tmp",
    "/private/var/folders",
    "/private/var/run",
    "/var/folders",
    "/var/run"
]

[network]
allow_domains = []
deny_domains = []

[shell]
pass_env = [
    "TERM",
    "COLORTERM",
    "LANG",
    "LC_ALL",
    "HOME",
    "USER",
    "SHELL",
    "PATH",
]
deny_env = [
    "AWS_*",
    "*_SECRET*",
    "*_PASSWORD*",
    "*_KEY",
]
